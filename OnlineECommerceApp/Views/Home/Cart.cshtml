@model OnlineECommerceApp.Models.Cart
@{
    ViewBag.Title = "Cart";
    Layout = "~/Views/Shared/_Home.cshtml";
}



<header class="section-header">
    <nav class="navbar p-md-0 navbar-expand-sm navbar-light border-bottom">
        <div class="container">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTop5" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarTop5">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item dropdown">
                        <a href="#" class="nav-link"> English </a>

                    </li>
                    <li class="nav-item dropdown">
                        <a href="#" class="nav-link"> USD </a>
                    </li>
                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i class="fa fa-user"></i>
                            My Account
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            <a class="dropdown-item" href="/CariPanel/Index/">My Profiles</a>
                            <a class="dropdown-item" href="/Home/MyOrders/">My Orders</a>
                            <a class="dropdown-item" href="/CariPanel/Notices/">Notices</a>
                            <a class="dropdown-item" href="/CariPanel/ReceiveMessage/">My Messages</a>
                           
                        </div>
                    </li>


                    <li><a href="#" class="nav-link"> <i class="fa fa-envelope"></i> Email </a></li>
                    <li><a href="#" class="nav-link"> <i class="fa fa-phone"></i> Call us </a></li>
                </ul>


            </div> <!-- navbar-collapse .// -->
        </div> <!-- container //  -->
    </nav>

    <section class="header-main border-bottom">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-2 col-md-3 col-6">
                    <a href="./" class="brand-wrap">
                        <img class="logo" src="./images/logo.png">
                    </a> <!-- brand-wrap.// -->
                </div>
                <div class="col-lg col-sm col-md col-6 flex-grow-0">
                    <div class="category-wrap dropdown d-inline-block float-right">
                        <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                            <i class="fa fa-bars"></i> All category
                        </button>
                        <div class="dropdown-menu">
                            <a class="dropdown-item" href="#">Machinery / Mechanical Parts / Tools </a>
                            <a class="dropdown-item" href="#">Consumer Electronics / Home Appliances </a>
                            <a class="dropdown-item" href="#">Auto / Transportation</a>
                            <a class="dropdown-item" href="#">Apparel / Textiles / Timepieces </a>
                            <a class="dropdown-item" href="#">Home & Garden / Construction / Lights </a>
                            <a class="dropdown-item" href="#">Beauty & Personal Care / Health </a>
                        </div>
                    </div>  <!-- category-wrap.// -->
                </div> <!-- col.// -->
                <a href="./store.html" class="btn btn-outline-primary">Store</a>
                <div class="col-lg  col-md-6 col-sm-12 col">
                    <form action="#" class="search">
                        <div class="input-group w-100">
                            <input type="text" class="form-control" style="width:60%;" placeholder="Search">

                            <div class="input-group-append">
                                <button class="btn btn-primary" type="submit">
                                    <i class="fa fa-search"></i>
                                </button>
                            </div>
                        </div>
                    </form> <!-- search-wrap .end// -->
                </div> <!-- col.// -->
            @Html.Action("Basket","Home")
            
        </div> <!-- container.// -->
    </section> <!-- header-main .// -->



</header> <!-- section-header.// -->


    <section class="section-content padding-y bg">
        <div class="container">

            <!-- ============================ COMPONENT 1 ================================= -->

            <div class="row">
                <aside class="col-lg-9">
                    <div class="card">
                        @if (Model.Lines.Count > 0)
                        {
                            <table class="table table-borderless table-shopping-cart">
                                <thead class="text-muted">
                                    <tr class="small text-uppercase">
                                        <th scope="col">Product</th>
                                        <th scope="col" width="120">Quantity</th>
                                        <th scope="col" width="120">Price</th>
                                        <th scope="col" class="text-right" width="200"> </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in Model.Lines)
                                    {
                                        <tr>
                                            <td>
                                                <figure class="itemside align-items-center">
                                                    <div class="aside"><img src="@item.Product.ProductImage" class="img-sm"></div>
                                                    <figcaption class="info">
                                                        <a href="#" class="title text-dark">@item.Product.ProductName</a>
                                                        <p class="text-muted small">Price: $@item.Product.SalesPrice <br> Brand: @item.Product.Brand</p>
                                                    </figcaption>
                                                </figure>
                                            </td>
                                            <td>
                                                <!-- col.// -->
                                                <div class="col">
                                                    <div class="input-group input-spinner">
                                                        <div class="input-group-prepend">
                                                            @using (Html.BeginForm("AddToCart", "Home", FormMethod.Post))
                                                            {
                                                                @Html.Hidden("ProductId", item.Product.ProductID)
                                                                <button class="btn btn-light" type="button" id="button-plus"> <i class="fa fa-minus"></i> </button>

                                                            }
                                                       

                                                        </div>
                                                        <input type="text" class="form-control" value="@item.Quantity">
                                                        <div class="input-group-append">
                                                            <button class="btn btn-light" type="button" id="button-minus"> <i class="fa fa-plus"></i> </button>
                                                        </div>
                                                    </div> <!-- input-group.// -->
                                                </div> <!-- col.// -->
                                            </td>
                                            <td>
                                                <div class="price-wrap">
                                                    <var class="price">$@((item.Quantity * item.Product.SalesPrice))</var>
                                                    <small class="text-muted"> $@item.Product.SalesPrice each </small>
                                                </div> <!-- price-wrap .// -->
                                            </td>
                                            <td class="text-right">
                                                @using (Html.BeginForm("RemoveFromCart", "Home", FormMethod.Post))
                                                {
                                                    @Html.Hidden("ProductId", item.Product.ProductID)
                                                    <input class="btn btn-sm btn-warning" type="submit" value="Remove" />
                                                }
                                                @*<a href="" class="btn btn-danger"> Remove</a>*@
                                            </td>
                                        </tr>
                                    }





                                </tbody>
                            </table>
                        }
                        else
                        {
                            <div class="alert alert-warning" role="alert">
                                Your Shopping Basket is Empty 
                            </div>
                        }

                    </div> <!-- card.// -->

                </aside> <!-- col.// -->
                <aside class="col-lg-3">

                    <div class="card">
                        <div class="card-body">
                            <dl class="dlist-align">
                                <dt>Total price:</dt>
                                <dd class="text-right">$((@Model.ComputeTotalValue()+10).ToString("c"))</dd>
                            </dl>
                            <dl class="dlist-align">
                                <dt>Tax:</dt>
                                <dd class="text-right"> $10.00</dd>
                            </dl>
                            <dl class="dlist-align">
                                <dt>Total:</dt>
                                <dd class="text-right text-dark b"><strong>$@Model.ComputeTotalValue().ToString("c")</strong></dd>
                            </dl>
                            <hr>
                            <p class="text-center mb-3">
                                <img src="~/greatkart/images/misc/payments.png" height="26">
                            </p>
                            <a href="/Home/CheckOut/" class="btn btn-primary btn-block"> Checkout </a>
                            <a href="/Home/Store/" class="btn btn-light btn-block">Continue Shopping</a>
                        </div> <!-- card-body.// -->
                    </div> <!-- card.// -->

                </aside> <!-- col.// -->


            </div> <!-- row.// -->
            <!-- ============================ COMPONENT 1 END .// ================================= -->

        </div> <!-- container .//  -->
    </section>


